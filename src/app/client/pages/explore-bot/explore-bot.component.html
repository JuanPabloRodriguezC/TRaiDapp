<div class="flex flex-col gap-6">
    <!-- Header -->
    <div class="card">
        <div class="font-semibold text-xl mb-6 flex items-center justify-between">
            Trading Agent Performance
            <button pButton type="button" label="Actualizar datos" icon="pi pi-refresh" (click)="loadHistoricalData()" class="ml-4"></button>
        </div>
    
        <!-- Parameter Tabs -->
        <div class="flex gap-1 mb-6 bg-surface-100 dark:bg-surface-800 p-1 rounded-lg">
            <button 
                *ngFor="let metric of availableMetrics"
                (click)="setCurrentMetric(metric.key)"
                [class]="'flex-1 px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 ' + 
                         (currentMetric === metric.key 
                           ? 'bg-white dark:bg-surface-700 text-surface-900 dark:text-surface-0 shadow-sm' 
                           : 'text-surface-600 dark:text-surface-400 hover:text-surface-900 dark:hover:text-surface-0')">
                {{ metric.label }}
            </button>
        </div>
        <!-- ...grÃ¡fico y resto del contenido... -->
        <!-- Active Parameter Display -->
        <div *ngIf="getCurrentMetric() as currentMetric">
            <!-- Current Value and Chart Title -->
            <div class="mb-4">
                <h3 class="text-lg font-medium text-surface-900 dark:text-surface-0 mb-1">
                    {{ currentMetric.label }} en el tiempo
                </h3>
                <div class="text-3xl font-bold text-surface-900 dark:text-surface-0">
                    {{ formatValue(currentMetric.currentValue, currentMetric.unit) }}{{ currentMetric.unit }}
                </div>
            </div>

            <!-- Chart -->
            <div class="mb-6" style="height: 300px;">
                <p-chart 
                    type="line" 
                    [data]="currentMetric.chartData"
                    [options]="currentMetric.chartOptions"
                    width="100%"
                    height="300px">
                </p-chart>
            </div>

            
    </div>
</div>