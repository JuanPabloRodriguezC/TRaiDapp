<p-fluid class="flex flex-col gap-8" *ngIf="isWalletConnected; else walletNotConnected">
    <div class="flex mt-8">
        <div class="card flex-1">
            <div class="font-semibold text-xl mb-4">Your Porfolio Performance</div>
            <!-- Chart Content -->
            <div class="mb-6" style="height: 300px;">
                <p-chart 
                    type="line" 
                    [data]="performanceChart.chartData"
                    [options]="performanceChart.chartOptions"
                    width="100%"
                    height="300px">
                </p-chart>
            </div>
            
        </div>
    </div>
    <div class="flex flex-col md:flex-row gap-8">
        <div class="md:w-1/2">
            <div class="card flex-1">
                <div class="font-semibold text-xl mb-4">Your Asset Allocations</div>
                <!-- Chart Content -->
                <div class="mb-6" style="height: 300px;">
                    <p-chart 
                        type="doughnut" 
                        [data]="allocationChart.chartData"
                        [options]="allocationChart.chartOptions"
                        width="100%"
                        height="300px">
                    </p-chart>
                </div>
            </div>
        </div>
        <div class="md:w-1/2">
            <div class="card flex flex-col gap-4">
                <div class="font-semibold text-xl mb-4">Your Latest Trades</div>

                <p-table [value]="trades" [scrollable]="true" scrollHeight="400px" styleClass="mt-4">
                    <ng-template #header>
                        <tr>
                            <th style="min-width:200px" pFrozenColumn class="font-bold">Timestamp</th>
                            <th style="min-width:200px">Token ID</th>
                            <th style="min-width:200px">Amount</th>
                        </tr>
                    </ng-template>
                    <ng-template #body let-trade>
                        <tr>
                            <td pFrozenColumn class="font-bold">{{ trade.timestamp }}</td>
                            <td style="min-width:100px">{{ trade.token_id }}</td>
                            <td>{{ trade.amount }}</td>
                        </tr>
                    </ng-template>
                </p-table>
            </div>
        </div>
    </div>
    <div class="flex mt-8">
        <div class="card flex-1">
            <div class="font-semibold text-xl mb-4">Your Agents</div>
            <p-table [value]="agents" [scrollable]="true" scrollHeight="400px" styleClass="mt-4">
                <ng-template #header>
                    <tr>
                        <th style="min-width:200px" pFrozenColumn class="font-bold">ID</th>
                        <th style="min-width:200px">Name</th>
                        <th style="min-width:200px">Created At</th>
                    </tr>
                </ng-template>
                <ng-template #body let-agent>
                    <tr>
                        <td pFrozenColumn class="font-bold">{{ agent.id }}</td>
                        <td style="min-width:100px">{{ agent.name }}</td>
                        <td>{{ agent.created_at }}</td>
                    </tr>
                </ng-template>
            </p-table>
            
        </div>
    </div>

    
</p-fluid>

<ng-template #walletNotConnected>
  <!-- Wallet connection view adapted from your 404 template -->
  <div class="flex items-center justify-center min-h-screen overflow-hidden">
    <div class="flex flex-col items-center justify-center">
      <!-- Logo/Icon section -->
      <div class="w-full bg-surface-0 dark:bg-surface-900 py-20 px-8 sm:px-20 flex flex-col items-center" style="border-radius: 53px">
        <i class="pi pi-wallet text-primary !text-6xl mb-4"></i>
        <h1 class="text-surface-900 dark:text-surface-0 font-bold text-3xl lg:text-5xl mb-2">Wallet Not Connected</h1>
        <div class="text-surface-600 dark:text-surface-200 mb-8">Connect your Starknet wallet to view your trading dashboard.</div>
        
        <p-button 
          label="Connect Wallet" 
          (onClick)="connectWallet()"
          [loading]="loading"
          class="mb-8" />
        
        <!-- Error display -->
        <div *ngIf="error" class="text-red-500 mb-4">{{ error }}</div>
      </div>
    </div>
  </div>
</ng-template>